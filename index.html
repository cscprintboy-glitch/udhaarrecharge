<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ST Cottex Export Pvt Ltd</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&display=swap');

body{
  margin:0;
  font-family:'Montserrat', Arial, Helvetica, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
}

.brand{
  text-align:center;
  padding:40px 15px;
  color:#fff;
  font-size:32px;
  font-weight:800;
  letter-spacing:2px;
  text-transform: uppercase;
  background: linear-gradient(90deg,#ff416c,#ff4b2b);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.card{
  background:#fff;
  max-width:450px;
  margin:20px auto;
  padding:22px;
  border-radius:16px;
  box-shadow:0 12px 28px rgba(0,0,0,0.25);
}
h2{color:#0d47a1;margin-top:0;text-align:center;}
input,select,button{
  width:100%;
  padding:12px;
  margin-top:10px;
  font-size:15px;
  border-radius:8px;
  border:1px solid #ccc;
}
button{
  background:linear-gradient(90deg,#1e88e5,#42a5f5);
  border:none;
  color:#fff;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
}
button:hover{opacity:0.9}
.whatsapp{background:#25d366}
.note{font-size:13px;color:#555;margin-top:8px}
.footer{
  text-align:center;
  color:#e3e3e3;
  font-size:13px;
  padding:20px;
}
.list-card{
  max-width:450px;
  margin:15px auto;
  background:#f5f5f5;
  padding:15px;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,0.15);
}
.list-card h3{margin:0 0 10px 0;color:#0d47a1;}
.list-item{
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid #ddd;
  font-size:14px;
}
.list-item:last-child{border:none;}
.status-pending{color:#ff5722;font-weight:bold;}
.status-success{color:#4caf50;font-weight:bold;}
</style>
</head>

<body>

<div class="brand">
  DIGITAL MONEY â€“ ONLY ST COTTEX WORKER
</div>

<!-- Recharge Lead -->
<div class="card">
  <h2>ðŸ“± Recharge Service</h2>
  <input id="r_name" placeholder="Customer Name">
  <input id="r_mobile" placeholder="Mobile Number">
  <select id="r_amount" onchange="calcCharge()">
    <option value="">Recharge Amount Select</option>
    <option value="149">â‚¹149</option>
    <option value="199">â‚¹199</option>
    <option value="349">â‚¹349</option>
  </select>
  <input id="r_charge" placeholder="Service Charge" readonly>
  <button onclick="sendRecharge()">Submit Recharge</button>
  <div class="note">â‚¹149 â†’ â‚¹25 | â‚¹199 â†’ â‚¹30 | â‚¹349 â†’ â‚¹40 (1 Month)</div>
</div>

<!-- Emergency Fund -->
<div class="card">
  <h2>ðŸš¨ Emergency Fund (Max â‚¹500)</h2>
  <input id="e_name" placeholder="Customer Name">
  <input id="e_mobile" placeholder="Mobile Number">
  <input id="e_amount" placeholder="Amount (Max â‚¹500)" oninput="calcEmergency()">
  <input id="e_charge" value="â‚¹150 (1 Month)" readonly>
  <input id="e_total" placeholder="Total Pay" readonly>
  <button onclick="sendEmergency()">Submit Emergency</button>
</div>

<!-- WhatsApp -->
<div class="card">
  <h2>ðŸ“ž Contact</h2>
  <button class="whatsapp" onclick="wa()">WhatsApp Chat</button>
</div>

<!-- Live Castmar List -->
<div class="list-card">
  <h3>ðŸ’¼ Live Castmar List</h3>
  <div id="castmarList">
    <!-- Live list appears here -->
  </div>
</div>

<div class="footer">Â© ST Cottex Export Pvt Ltd</div>

<script>
let castmarData = [];

// Update Live Castmar List
function updateCastmarList(){
  const container = document.getElementById("castmarList");
  container.innerHTML="";
  castmarData.forEach(item=>{
    const div = document.createElement("div");
    div.className="list-item";
    div.innerHTML=`<span>${item.name}</span><span class="${item.status==='Pending'?'status-pending':'status-success'}">${item.status}</span>`;
    container.appendChild(div);
  });
}

// Recharge / Emergency Calculations
function calcCharge(){
  let amt=document.getElementById("r_amount").value;
  let charge="";
  if(amt=="149") charge="â‚¹25";
  if(amt=="199") charge="â‚¹30";
  if(amt=="349") charge="â‚¹40";
  document.getElementById("r_charge").value=charge;
}
function calcEmergency(){
  let amt = Number(document.getElementById("e_amount").value);
  if(amt>500){
    alert("Maximum â‚¹500 allowed");
    document.getElementById("e_amount").value="";
    document.getElementById("e_total").value="";
    return;
  }
  if(amt>0){
    document.getElementById("e_total").value = "â‚¹" + (amt + 150);
  } else {
    document.getElementById("e_total").value = "";
  }
}

// ðŸ”´ Telegram Bot
const token="YOUR_BOT_TOKEN";
const chat="YOUR_CHAT_ID";

function sendTG(text){
  fetch("https://api.telegram.org/bot"+token+"/sendMessage",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({chat_id:chat,text:text})
  }).then(r=>r.json()).then(d=>{
    if(d.ok) console.log("Lead Sent Successfully");
    else console.error("Telegram Error");
  });
}

// Submit Recharge
function sendRecharge(){
  let n=r_name.value,m=r_mobile.value,a=r_amount.value,c=r_charge.value;
  if(!n||!m||!a){alert("All details required");return;}

  let castmar = {name:n,status:"Pending",type:"Recharge"};
  castmarData.push(castmar);
  updateCastmarList();

  let msg=
"ðŸ”” RECHARGE LEAD\n\n"+
"ðŸ¢ ST Cottex Export Pvt Ltd\n"+
"ðŸ‘¤ "+n+"\n"+
"ðŸ“ž "+m+"\n"+
"ðŸ’° Recharge: â‚¹"+a+"\n"+
"âž• Charge: "+c+"\n"+
"â³ Status: Pending";

  sendTG(msg);

  // Auto Success after 1 month (Demo 5 sec)
  setTimeout(()=>{
    castmar.status="Success";
    updateCastmarList();
    let msg2="âœ… Recharge Completed\nðŸ‘¤ "+n+"\nStatus: Success";
    sendTG(msg2);
    // Optional WhatsApp reminder
    window.open("https://wa.me/918264426101?text="+encodeURIComponent(msg2),"__blank");
  },5000); // demo 5 sec instead of 1 month
}

// Submit Emergency
function sendEmergency(){
  let n=e_name.value,m=e_mobile.value,a=e_amount.value;
  if(!n||!m||!a){alert("All details required");return;}

  let castmar = {name:n,status:"Pending",type:"Emergency"};
  castmarData.push(castmar);
  updateCastmarList();

  let msg=
"ðŸš¨ EMERGENCY FUND\n\n"+
"ðŸ¢ ST Cottex Export Pvt Ltd\n"+
"ðŸ‘¤ "+n+"\n"+
"ðŸ“ž "+m+"\n"+
"ðŸ’° Amount: â‚¹"+a+"\n"+
"âž• Monthly Charge: â‚¹150\n"+
"ðŸ’³ Total Pay: â‚¹"+(Number(a)+150)+"\n"+
"â³ Status: Pending";

  sendTG(msg);

  // Auto Success after 1 month (Demo 5 sec)
  setTimeout(()=>{
    castmar.status="Success";
    updateCastmarList();
    let msg2="âœ… Emergency Fund Paid\nðŸ‘¤ "+n+"\nStatus: Success";
    sendTG(msg2);
    // Optional WhatsApp reminder
    window.open("https://wa.me/918264426101?text="+encodeURIComponent(msg2),"__blank");
  },5000); // demo 5 sec instead of 1 month
}

// WhatsApp
function wa(){
  window.open("https://wa.me/918264426101","_blank");
}
</script>

</body>
</html>
